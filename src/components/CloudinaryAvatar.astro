---
import CloudinaryImage from './CloudinaryImage.astro';

interface Props {
  publicId: string;
  alt: string;
  size?: number;
  class?: string;
  rounded?: 'full' | 'lg' | 'md' | 'sm' | 'none';
}

const {
  publicId,
  alt,
  size = 96,
  class: className = '',
  rounded = 'full',
} = Astro.props;

const roundedClass = {
  full: 'rounded-full',
  lg: 'rounded-lg',
  md: 'rounded-md',
  sm: 'rounded-sm',
  none: '',
}[rounded];
---

<CloudinaryImage
  publicId={publicId}
  alt={alt}
  width={size}
  height={size}
  crop="fill"
  gravity="face"
  quality="auto"
  format="auto"
  class={`${roundedClass} ${className}`}
  loading="lazy"
/>